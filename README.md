# ShadowVote

### Blockchain-Based Voting App with Zero Knowledge Proof on SCROLL 

This project, developed using Scroll and Alchemy during the LevelUp Mini Hack, utilizes Zero Knowledge Proof (ZKP) and blockchain technology to build a secure and anonymous voting system. Foundry is used for smart contract development, and Circom is employed for zk-SNARK circuit generation.

![Image](https://i.imgur.com/vh9ITxY.png)

![Image](https://i.imgur.com/5rnewki.png)

## Project Overview

The goal of this project is to implement a transparent voting system on the blockchain, where privacy is ensured by using Zero Knowledge Proofs (ZKP). Voters can cast their votes without revealing their identities, ensuring security and anonymity. In addition, multiple voting by users is controlled without revealing the identity of the users.

## Advantages
- ZKP proves that the user has voted without revealing their identity and that they can only vote once.
- The user does not pay any gas fees during voting as the platform administrator handles the transaction of the votes, and the user experience is maximized as there is no signature or approval process.
- Gas fees are quite low since it is deployed on the Scroll Testnet.
- Since voting is recorded on the blockchain, the security and transparency of the voting process is maximized.


## Technologies Used

- **Scroll Sepolia Testnet**: Native zkEVM testnet to deploy smart contracts
- **Alchemy**: For API access to the blockchain
- **Solidity**: For smart contract development on Scroll Sepolia Testnet
- **Next.js**: To make the application accessible from the interface
- **Circom**: For creating zk-SNARK circuits used in the ZKP process.
- **Snarky JS** To generate evidence from the zkp circuit generated by the Circom circuit and send it to the smart contract
- **Foundry**: For compiling, testing, and deploying smart contracts.

  
## Setup

> **Warning:**
>
> For this application to work properly, you must use **Linux**. We recommend running the application in a Linux environment to ensure correct operation and expected performance.

### Requirements

- [Scroll](https://scroll.io/): Layer 2 scaling solution for Ethereum that enables fast and low-cost transactions.
- [Alchemy](https://www.alchemy.com/): Blockchain development platform that provides tools and infrastructure for building decentralized applications.
- [Node.js](https://nodejs.org/)
- [Foundry](https://getfoundry.sh/)
- [Circom](https://docs.circom.io/getting-started/installation/)
- [snarkjs](https://github.com/iden3/snarkjs)
- [solidity](https://soliditylang.org/)
- [Next JS](https://nextjs.org/)

### Steps

1. **Clone the Repository**

    ```bash
    git clone https://github.com/murathanje/ZK_Voting_APP.git
    cd ZK_Voting_APP
    ```

2. **Install Dependencies**

    Install necessary packages for Circom and snarkjs:

    ```bash
    cd zk_dapp
    npm install
    ```

3. **Set Up Foundry (if not installed)**

    If you do not have Foundry installed, run the following commands:

    ```bash
    curl -L https://foundry.paradigm.xyz | bash
    source /home/<username>/.bashrc
    ```

    Then, open a new terminal and run the following command:

    ```bash
    foundryup
    ```

4. **Set Up ``.env`` files**
   
   First you need to change the file name from .env.example to .env
   ```
   NEXT_PUBLIC_PRIVATE_KEY=
   NEXT_PUBLIC_CONTRACT_ADDRESS=
   NEXT_PUBLIC_ALCHEMY_RPC_URL=
   ```
   You need to edit the .env file yourself. For NEXT_PUBLIC_CONTRACT_ADDRESS you can follow after step 6.
   
   ## Yo're ready to try now! ðŸŽ‰

5. **Run the app**

   ```bash
   npm run dev
   ```
   Then go to the ``http://localhost:3000/`` and Vote any option but don't forget that you can vote once. It will be absolutely invisible that you voted.

6. **If you want to start the project from the beginning**

    Make sure you are on the path to ``ZK_Voting_APP`` then run this command:

   ```bash
    cd zkContracts
    ```
   
8. **Set Up ``.env`` files**
   
   First you need to change the file name from .env.example to .env
   ```
    PRIVATE_KEY=
    RPC_URL=
   ```
   You need to edit the .env file yourself

    > **Warning:**
    >
    > You can obtain an RPC URL from Alchemy for your project.
    Then run the ```source .env``` script to save your .env file in the terminal
   
10. **Deploy contract to Blockchain**

```bash
forge script script/Deploy.s.sol:DeployScript --rpc-url $ALCHEMY_RPC_URL --broadcast
```

Then you will see a log output as ``VotingContractAddress: 0x0EfE6dE6dE755D84467F0641E3fB9E48e93d1D2209B`` in the terminal, copy this address and paste it into ``/zk_dapp/.env `` in ``NEXT_PUBLIC_CONTRACT_ADDRESS``.

Finally, you can go to the zk_dapp folder and repeat step 4.

# Now You have a ZK Voting APP ðŸŽ‰


